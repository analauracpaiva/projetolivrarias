import{a as r}from"./index.becf6c0c.js";import{_ as g,o as l,c as d,a,w as h,v as _,F as C,r as m,t as u}from"./index.0b6b7f61.js";class v{async buscarTodasAsCategorias(){return(await r.get("https://livraria-a.herokuapp.com/categories")).data}async buscarCategoria(t){return(await r.get(`https://livraria-a.herokuapp.com/categories/${t}`)).data}async adicionarCategoria(t){return(await r.post("https://livraria-a.herokuapp.com/categories/",t)).data}async excluirCategoria(t){return(await r.delete(`https://livraria-a.herokuapp.com/categories/${t}`)).data}async atualizarCategoria(t){return(await r.put(`https://livraria-a.herokuapp.com/categories/${t.id}`,t)).data}}const s=new v,b={data(){return{categoria:{},categorias:[]}},async created(){this.categorias=await s.buscarTodasAsCategorias()},methods:{async salvar(){this.categoria.id?await s.atualizarCategoria(this.categoria):await s.adicionarCategoria(this.categoria),this.categorias=await s.buscarTodasAsCategorias(),this.categoria={}},async excluir(i){await s.excluirCategoria(i.id),this.categorias=await s.buscarTodasAsCategorias()},editar(i){Object.assign(this.categoria,i)}}},w={class:"container"},x=a("div",{class:"title"},[a("h2",null,"Gerenciamento de Categorias")],-1),y={class:"form-input"},k={class:"list-categorias"},f=a("thead",null,[a("tr",null,[a("th",null,"ID"),a("th",null,"Categoria"),a("th")])],-1),A={class:"ide"},T={class:"acao"},V=["onClick"],B=["onClick"];function D(i,t,o,E,c,n){return l(),d("main",null,[a("div",w,[x,a("div",y,[h(a("input",{id:"cat",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>c.categoria.description=e),placeholder:"Categoria..."},null,512),[[_,c.categoria.description]]),a("button",{id:"button-29",role:"button",onClick:t[1]||(t[1]=(...e)=>n.salvar&&n.salvar(...e))},"SALVAR")]),a("div",k,[a("table",null,[f,a("tbody",null,[(l(!0),d(C,null,m(c.categorias,e=>(l(),d("tr",{key:e.id},[a("td",A,u(e.id),1),a("td",null,u(e.description),1),a("td",T,[a("button",{onClick:p=>n.editar(e)},"Editar",8,V),a("button",{onClick:p=>n.excluir(e)},"Excluir",8,B)])]))),128))])])])])])}var F=g(b,[["render",D]]);export{F as default};
