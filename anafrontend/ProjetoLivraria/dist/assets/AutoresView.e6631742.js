import{a as i}from"./index.becf6c0c.js";import{_ as h,o as l,c,a as t,w as _,v as b,b as v,F as A,r as m,t as d}from"./index.0b6b7f61.js";class w{async buscarTodosOsAutores(){return(await i.get("https://livraria-a.herokuapp.com/publishers")).data}async buscarAutor(s){return(await i.get(`https://livraria-a.herokuapp.com/publishers/${s}`)).data}async adicionarAutor(s){return(await i.post("https://livraria-a.herokuapp.com/publishers",s)).data}async excluirAutor(s){return(await i.delete(`https://livraria-a.herokuapp.com/publishers/${s}`)).data}async atualizarAutor(s){return(await i.put(`https://livraria-a.herokuapp.com/publishers/${s.id}`,s)).data}}const r=new w,y={data(){return{autor:{},autores:[]}},async created(){this.autores=await r.buscarTodosOsAutores()},methods:{async salvar(){this.autor.id?await r.atualizarAutor(this.autor):await r.adicionarAutor(this.autor),this.autores=await r.buscarTodosOsAutores(),this.autor={}},async excluir(o){await r.excluirAutor(o.id),this.autores=await r.buscarTodosOsAutores()},editar(o){Object.assign(this.autor,o)}}},x={class:"container"},k=t("div",{class:"title"},[t("h2",null,"Gerenciamento de Autores")],-1),f={class:"form-input"},g={class:"list-autores"},C=t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"Autor")])],-1),O={class:"ide"},T={class:"acao"},V=["onClick"],B=["onClick"];function D(o,s,n,E,u,e){return l(),c("div",x,[k,t("div",f,[_(t("input",{id:"aut",type:"text","onUpdate:modelValue":s[0]||(s[0]=a=>u.autor.description=a),onKeyup:s[1]||(s[1]=v((...a)=>e.salvar&&e.salvar(...a),["enter"])),placeholder:"Autor..."},null,544),[[b,u.autor.description]]),t("button",{id:"button-29",role:"button",onClick:s[2]||(s[2]=(...a)=>e.salvar&&e.salvar(...a))},"SALVAR")]),t("div",g,[t("table",null,[C,t("tbody",null,[(l(!0),c(A,null,m(u.autores,a=>(l(),c("tr",{key:a.id},[t("td",O,d(a.id),1),t("td",null,d(a.description),1),t("td",T,[t("button",{onClick:p=>e.editar(a)},"Editar",8,V),t("button",{onClick:p=>e.excluir(a)},"Excluir",8,B)])]))),128))])])])])}var F=h(y,[["render",D]]);export{F as default};
