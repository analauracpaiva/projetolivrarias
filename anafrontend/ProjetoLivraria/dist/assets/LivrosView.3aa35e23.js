import{a as e}from"./index.becf6c0c.js";import{_ as p,o as c,c as u,a as s,w as h,v as m,b as k,F as _,r as b,t as d}from"./index.0b6b7f61.js";class w{async buscarTodosOsLivros(){return(await e.get("https://livraria-a.herokuapp.com/books")).data}async buscarlivro(t){return(await e.get(`https://livraria-a.herokuapp.com/books/${t}`)).data}async adicionarlivro(t){return(await e.post("https://livraria-a.herokuapp.com/books",t)).data}async excluirlivro(t){return(await e.delete(`https://livraria-a.herokuapp.com/books/${t}`)).data}async atualizarlivro(t){return(await e.put(`https://livraria-a.herokuapp.com/books/${t.id}`,t)).data}}const o=new w,y={data(){return{livro:{},livros:[]}},async created(){this.livros=await o.buscarTodosOsLivros()},methods:{async salvar(){this.livro.id?await o.atualizarlivro(this.livro):await o.adicionarlivro(this.livro),this.livros=await o.buscarTodosOsLivros(),this.livro={}},async excluir(i){await o.excluirlivro(i.id),this.livros=await o.buscarTodosOsLivros()},editar(i){Object.assign(this.livro,i)}}},x={class:"container"},f=s("div",{class:"title"},[s("h2",null,"Gerenciamento de livros")],-1),L={class:"form-input"},g={class:"list-items"},C=s("thead",null,[s("tr",null,[s("th",null,"ID"),s("th",null,"Nome"),s("th",null,"A\xE7\xF5es")])],-1),O=["onClick"],T=["onClick"];function A(i,t,n,B,l,r){return c(),u("div",x,[f,s("div",L,[h(s("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=a=>l.livro.nome=a),onKeyup:t[1]||(t[1]=k((...a)=>r.salvar&&r.salvar(...a),["enter"]))},null,544),[[m,l.livro.nome]]),s("button",{onClick:t[2]||(t[2]=(...a)=>r.salvar&&r.salvar(...a))},"Adicionar")]),s("div",g,[s("table",null,[C,s("tbody",null,[(c(!0),u(_,null,b(l.livros,a=>(c(),u("tr",{key:a.id},[s("td",null,d(a.id),1),s("td",null,d(a.nome),1),s("td",null,[s("button",{onClick:v=>r.editar(a)},"Editar",8,O),s("button",{onClick:v=>r.excluir(a)},"Excluir",8,T)])]))),128))])])])])}var V=p(y,[["render",A]]);export{V as default};
